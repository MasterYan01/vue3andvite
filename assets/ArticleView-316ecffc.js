import{a as p}from"./articlesStore-7c47676c.js";import{T as b}from"./Toast-72aece92.js";import{R as A,m as I,g as k,_ as v,r as _,o,c as a,b as h,a as t,w as L,d as f,t as n,n as g,e as m}from"./index-d3b74700.js";import"./statusStore-c748babb.js";const{VITE_API:T,VITE_PATH:V}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/vue3andvite/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{article:{},isLoading:!1,articleIndex:0}},components:{RouterLink:A},methods:{...I(p,["getArticles"]),getArticle(){this.isLoading=!0;const{id:i}=this.$route.params;this.$http.get(`${T}/api/${V}/article/${i}`).then(s=>{this.isLoading=!1;const{article:c}=s.data;this.article=c,this.articleIndex=this.articles.filter(r=>r.id===i)[0].num-1}).catch(s=>{var r,e;const c=((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"資料錯誤";this.isLoading=!1,b.fire({title:`${c}`,icon:"error"})})},changeArticle(i){this.$router.push(`/article/${this.articles[i].id}`),setTimeout(()=>{this.getArticle()})}},computed:{...k(p,["articles"])},mounted(){this.getArticle(),this.getArticles()}},C={class:"row justify-content-center"},E={class:"col-lg-8"},w={"aria-label":"breadcrumb"},R={class:"breadcrumb"},M={class:"breadcrumb-item"},P={class:"breadcrumb-item active","aria-current":"page"},$={class:"mt-5"},B={class:"py-5"},D={class:"text-muted"},H={class:"text-muted"},N=["src"],S=["innerHTML"],U={key:0,class:"d-flex flex-lg-row flex-column justify-content-lg-between py-7"};function j(i,s,c,r,e,l){const d=_("VueLoading"),x=_("RouterLink");return o(),a("div",null,[h(d,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=u=>e.isLoading=u)},null,8,["active"]),t("div",C,[t("div",E,[t("nav",w,[t("ol",R,[t("li",M,[h(x,{to:"/articles"},{default:L(()=>[f("咖啡專欄")]),_:1})]),t("li",P,n(e.article.title),1)])]),t("h2",$,n(e.article.title),1),t("article",B,[t("p",null,[t("small",D,n(i.$filters.date(e.article.create_at)),1),f(" - "),t("small",H,"作者："+n(e.article.author),1)]),t("img",{src:e.article.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,N),t("div",{innerHTML:e.article.content},null,8,S)]),e.articleIndex!==void 0?(o(),a("div",U,[e.articleIndex-1>=0?(o(),a("a",{key:0,href:"#",class:"btn btn-link btn-primary text-dark",onClick:s[1]||(s[1]=g(u=>l.changeArticle(e.articleIndex-1),["prevent"]))}," 上一篇： "+n(i.articles[e.articleIndex-1].title),1)):m("",!0),e.articleIndex+1<i.articles.length?(o(),a("a",{key:1,href:"#",class:"btn btn-link btn-primary text-dark",onClick:s[2]||(s[2]=g(u=>l.changeArticle(e.articleIndex+1),["prevent"]))}," 下一篇： "+n(i.articles[e.articleIndex+1].title),1)):m("",!0)])):m("",!0)])])])}const O=v(y,[["render",j]]),q={data(){return{}},components:{ArticleCard:O}},z={class:"container py-6"};function F(i,s,c,r,e,l){const d=_("ArticleCard");return o(),a("div",z,[h(d)])}const W=v(q,[["render",F]]);export{W as default};
